<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Draft Board v2.0</title>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { margin: 0; padding: 0; overflow: hidden; }
    .scroll-container { 
      scrollbar-width: thin;
      scrollbar-color: #475569 #1e293b;
    }
    .scroll-container::-webkit-scrollbar { width: 8px; }
    .scroll-container::-webkit-scrollbar-track { background: #1e293b; }
    .scroll-container::-webkit-scrollbar-thumb { background: #475569; border-radius: 4px; }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState } = React;

    const mockLeagues = [
      { id: 1, name: 'The Psycho League: Year VI', type: 'dynasty' },
      { id: 2, name: 'Dynasty Warriors 2026', type: 'dynasty' },
      { id: 3, name: 'Redraft Champions', type: 'redraft' },
    ];

    const mockPlayers = [
      { id: 1, name: 'Cameron Ward', pos: 'QB', school: 'Miami', size: '6\'2"', weight: 223, speed: 4.58, tier: 1 },
      { id: 2, name: 'Shedeur Sanders', pos: 'QB', school: 'Colorado', size: '6\'2"', weight: 215, speed: 4.6, tier: 1 },
      { id: 3, name: 'Quinn Ewers', pos: 'QB', school: 'Texas', size: '6\'2"', weight: 195, speed: 4.7, tier: 1 },
      { id: 4, name: 'Riley Leonard', pos: 'QB', school: 'Notre Dame', size: '6\'4"', weight: 212, speed: 4.5, tier: 2 },
      { id: 5, name: 'Ashton Jeanty', pos: 'RB', school: 'Boise State', size: '5\'9"', weight: 215, speed: 4.42, tier: 1 },
      { id: 6, name: 'Omarion Hampton', pos: 'RB', school: 'UNC', size: '6\'0"', weight: 220, speed: 4.5, tier: 1 },
      { id: 7, name: 'Travis Hunter', pos: 'WR', school: 'Colorado', size: '6\'1"', weight: 185, speed: 4.3, tier: 1 },
      { id: 8, name: 'Tetairoa McMillan', pos: 'WR', school: 'Arizona', size: '6\'5"', weight: 210, speed: 4.5, tier: 1 },
      { id: 9, name: 'Emeka Egbuka', pos: 'WR', school: 'Ohio State', size: '6\'1"', weight: 206, speed: 4.3, tier: 1 },
      { id: 10, name: 'Abdul Carter', pos: 'EDGE', school: 'Penn State', size: '6\'3"', weight: 252, speed: 4.4, tier: 1 },
    ];

    const positions = ['QB', 'RB', 'WR', 'TE', 'EDGE', 'DL', 'LB', 'DB', 'K'];

    const DraftBoard = () => {
      const [numTeams] = useState(16);
      const [numRounds] = useState(7);
      const [draftType] = useState('snake');
      const [selectedPos, setSelectedPos] = useState('ALL');
      const [searchTerm, setSearchTerm] = useState('');
      const [players] = useState(mockPlayers);
      const [draftPicks, setDraftPicks] = useState({});
      const [selectedPickSlot, setSelectedPickSlot] = useState(null);
      
      const [sleeperUsername, setSleeperUsername] = useState('skjjcruz');
      const [userLeagues, setUserLeagues] = useState(mockLeagues);
      const [selectedLeague, setSelectedLeague] = useState(mockLeagues[0]);
      const [leagueSeason, setLeagueSeason] = useState(2026);
      const [statsSeason, setStatsSeason] = useState(2025);

      const generateDraftOrder = () => {
        const order = [];
        for (let round = 1; round <= numRounds; round++) {
          for (let team = 1; team <= numTeams; team++) {
            const pickNum = draftType === 'snake' && round % 2 === 0 
              ? numTeams - team + 1 
              : team;
            order.push({
              round,
              pick: pickNum,
              overall: (round - 1) * numTeams + team,
              team: pickNum,
              key: `${round}.${String(pickNum).padStart(2, '0')}`
            });
          }
        }
        return order;
      };

      const draftOrder = generateDraftOrder();

      const filteredPlayers = players.filter(p => {
        const matchesPos = selectedPos === 'ALL' || p.pos === selectedPos;
        const matchesSearch = p.name.toLowerCase().includes(searchTerm.toLowerCase());
        const notDrafted = !Object.values(draftPicks).includes(p.id);
        return matchesPos && matchesSearch && notDrafted;
      });

      const positionCounts = positions.reduce((acc, pos) => {
        acc[pos] = players.filter(p => p.pos === pos && !Object.values(draftPicks).includes(p.id)).length;
        return acc;
      }, {});
      const totalAvailable = players.filter(p => !Object.values(draftPicks).includes(p.id)).length;

      const handlePlayerClick = (player) => {
        if (!selectedPickSlot) {
          const nextPick = draftOrder.find(pick => !draftPicks[pick.key]);
          if (nextPick) {
            setDraftPicks(prev => ({ ...prev, [nextPick.key]: player.id }));
          }
        } else {
          setDraftPicks(prev => ({ ...prev, [selectedPickSlot]: player.id }));
          setSelectedPickSlot(null);
        }
      };

      const handlePickSlotClick = (pickKey) => {
        if (draftPicks[pickKey]) {
          const newPicks = { ...draftPicks };
          delete newPicks[pickKey];
          setDraftPicks(newPicks);
        } else {
          setSelectedPickSlot(pickKey);
        }
      };

      const picksByRound = draftOrder.reduce((acc, pick) => {
        if (!acc[pick.round]) acc[pick.round] = [];
        acc[pick.round].push(pick);
        return acc;
      }, {});

      return (
        <div className="min-h-screen bg-slate-950 text-slate-100">
          <div className="bg-slate-900 border-b border-slate-700 px-4 py-3">
            <div className="flex flex-wrap gap-4 items-center">
              <input
                type="text"
                placeholder="skjjcruz"
                value={sleeperUsername}
                onChange={(e) => setSleeperUsername(e.target.value)}
                className="bg-slate-800 border border-slate-600 rounded px-3 py-1.5 text-sm text-slate-100 w-32"
              />

              <div className="flex items-center gap-2">
                <label className="text-sm text-slate-400">League Season:</label>
                <select 
                  value={leagueSeason}
                  onChange={(e) => setLeagueSeason(Number(e.target.value))}
                  className="bg-slate-800 border border-slate-600 rounded px-3 py-1.5 text-sm text-slate-100"
                >
                  {[2026, 2025, 2024, 2023].map(year => (
                    <option key={year} value={year}>{year}</option>
                  ))}
                </select>
              </div>

              <div className="flex items-center gap-2">
                <label className="text-sm text-slate-400">Stats Season:</label>
                <select 
                  value={statsSeason}
                  onChange={(e) => setStatsSeason(Number(e.target.value))}
                  className="bg-slate-800 border border-slate-600 rounded px-3 py-1.5 text-sm text-slate-100"
                >
                  {[2025, 2024, 2023, 2022].map(year => (
                    <option key={year} value={year}>{year}</option>
                  ))}
                </select>
              </div>

              <div className="flex items-center gap-2">
                <label className="text-sm text-slate-400">League:</label>
                <select 
                  value={selectedLeague.id}
                  onChange={(e) => {
                    const league = userLeagues.find(l => l.id === Number(e.target.value));
                    setSelectedLeague(league);
                  }}
                  className="bg-slate-800 border border-slate-600 rounded px-3 py-1.5 text-sm text-slate-100 min-w-[200px]"
                >
                  {userLeagues.map(league => (
                    <option key={league.id} value={league.id}>{league.name}</option>
                  ))}
                </select>
              </div>

              <button 
                className="ml-auto px-4 py-1.5 bg-yellow-500 hover:bg-yellow-600 text-slate-900 rounded text-sm font-bold"
              >
                Reload
              </button>
            </div>

            <div className="mt-2 text-xs text-slate-500">
              Ready ✅ (Tap L / R on a team) — League {leagueSeason}, Stats {statsSeason}, Week 3
            </div>
          </div>

          <div className="sticky top-0 z-50 bg-slate-900 border-b border-slate-700 p-4">
            <div className="flex flex-wrap gap-4 items-center justify-between">
              <h1 className="text-xl font-bold text-yellow-500">Draft Board v2.0</h1>
              <div className="flex gap-4 items-center text-sm text-slate-400">
                <span>16 Teams • 7 Rounds • Snake Draft</span>
                <button 
                  onClick={() => setDraftPicks({})}
                  className="px-4 py-1.5 bg-red-600 hover:bg-red-700 rounded text-sm font-bold text-white"
                >
                  Clear Draft
                </button>
              </div>
            </div>
          </div>

          <div className="flex gap-4 p-4 h-[calc(100vh-180px)]">
            <div className="w-1/2 bg-slate-900 border border-slate-700 rounded-lg overflow-hidden flex flex-col">
              <div className="bg-slate-800 px-4 py-3 border-b border-slate-700 flex-shrink-0">
                <h2 className="font-bold text-yellow-500">Draft Board</h2>
              </div>
              
              <div className="flex-1 p-4 space-y-6 overflow-y-auto scroll-container">
                {Object.entries(picksByRound).map(([round, picks]) => (
                  <div key={round}>
                    <div className="sticky top-0 bg-slate-900 py-2 mb-3 border-b-2 border-yellow-500 z-10">
                      <h3 className="font-bold text-yellow-500 text-lg">Round {round}</h3>
                    </div>
                    
                    <div className="space-y-2">
                      {picks.map(pick => {
                        const playerId = draftPicks[pick.key];
                        const player = players.find(p => p.id === playerId);
                        const isSelected = selectedPickSlot === pick.key;
                        
                        return (
                          <div
                            key={pick.key}
                            onClick={() => handlePickSlotClick(pick.key)}
                            className={`p-3 rounded border cursor-pointer transition-all flex items-center gap-3 ${
                              isSelected ? 'border-yellow-500 bg-yellow-500 bg-opacity-10' : 
                              player ? 'border-emerald-600 bg-emerald-900 bg-opacity-30' : 
                              'border-slate-600 bg-slate-800 hover:border-slate-500'
                            }`}
                          >
                            <div className="w-20 text-center">
                              <div className="font-bold text-yellow-500">{pick.key}</div>
                              <div className="text-xs text-slate-500">#{pick.overall}</div>
                            </div>
                            
                            <div className="flex-1 min-w-0">
                              {player ? (
                                <>
                                  <div className="font-bold truncate">{player.name}</div>
                                  <div className="text-sm text-slate-400 flex gap-3 mt-0.5">
                                    <span className="font-bold text-yellow-500">{player.pos}</span>
                                    <span>{player.school}</span>
                                  </div>
                                </>
                              ) : (
                                <div className="text-slate-500 italic">Available</div>
                              )}
                            </div>
                          </div>
                        );
                      })}
                    </div>
                  </div>
                ))}
              </div>
            </div>

            <div className="w-1/2 bg-slate-900 border border-slate-700 rounded-lg overflow-hidden flex flex-col">
              <div className="bg-slate-800 px-4 py-3 border-b border-slate-700 flex-shrink-0">
                <h2 className="font-bold text-yellow-500 mb-3">Player Rankings</h2>
                
                <input
                  type="text"
                  placeholder="Search players..."
                  value={searchTerm}
                  onChange={(e) => setSearchTerm(e.target.value)}
                  className="w-full bg-slate-900 border border-slate-600 rounded px-3 py-2 text-sm text-slate-100 mb-3"
                />

                <div className="flex flex-wrap gap-2">
                  <button
                    onClick={() => setSelectedPos('ALL')}
                    className={`px-3 py-1 rounded text-xs font-bold ${
                      selectedPos === 'ALL' ? 'bg-yellow-500 text-slate-900' : 'bg-slate-700'
                    }`}
                  >
                    ALL ({totalAvailable})
                  </button>
                  {positions.map(pos => (
                    <button
                      key={pos}
                      onClick={() => setSelectedPos(pos)}
                      className={`px-3 py-1 rounded text-xs font-bold ${
                        selectedPos === pos ? 'bg-yellow-500 text-slate-900' : 'bg-slate-700'
                      }`}
                    >
                      {pos} ({positionCounts[pos] || 0})
                    </button>
                  ))}
                </div>
              </div>

              <div className="flex-1 overflow-y-auto scroll-container">
                {filteredPlayers.map((player, idx) => (
                  <div
                    key={player.id}
                    onClick={() => handlePlayerClick(player)}
                    className="p-3 hover:bg-slate-800 cursor-pointer border-b border-slate-700"
                  >
                    <div className="flex items-center gap-3">
                      <div className="w-8 text-slate-500 font-bold">{idx + 1}</div>
                      <div className="flex-1">
                        <div className="font-bold">{player.name}</div>
                        <div className="text-xs text-slate-400">
                          {player.pos} • {player.school} • {player.size} • {player.weight} lbs
                        </div>
                      </div>
                      <div className="text-xs px-2 py-1 rounded bg-slate-700">
                        Tier {player.tier}
                      </div>
                    </div>
                  </div>
                ))}
              </div>
            </div>
          </div>
        </div>
      );
    };

    ReactDOM.render(<DraftBoard />, document.getElementById('root'));
  </script>

</body>
</html>
